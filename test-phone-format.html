<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phone Format Test</title>
    <link href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta17/dist/css/tabler.min.css" rel="stylesheet"/>
    <link href="css/phone-formatter.css" rel="stylesheet"/>
    <style>
        body { padding: 2rem; }
        .test-section { margin-bottom: 2rem; }
        .form-control { margin-bottom: 1rem; }
    </style>
</head>
<body>
    <div class="container">
        <h1>US Phone Format Test</h1>
        
        <div class="test-section">
            <h3>Test Phone Inputs</h3>
            <p>Try entering phone numbers in various formats - they should auto-format to (555) 123-4567</p>
            
            <div class="mb-3">
                <label class="form-label">Store Phone</label>
                <input type="text" name="phone" class="form-control" placeholder="Enter phone number">
            </div>
            
            <div class="mb-3">
                <label class="form-label">Personal Phone</label>
                <input type="text" name="personal_phone" class="form-control" placeholder="Enter personal phone">
            </div>
            
            <div class="mb-3">
                <label class="form-label">Corporate Phone</label>
                <input type="text" name="corporate_phone" class="form-control" placeholder="Enter corporate phone">
            </div>
            
            <div class="mb-3">
                <label class="form-label">Generic Tel Input</label>
                <input type="tel" class="form-control" placeholder="This should also format">
            </div>
            
            <div class="mb-3">
                <label class="form-label">Phone Input with ID</label>
                <input type="text" id="phone_test" class="form-control" placeholder="ID contains phone">
            </div>
            
            <div class="mb-3">
                <label class="form-label">Test with existing value</label>
                <input type="text" name="test_phone" class="form-control" value="5551234567" placeholder="Should format existing value">
            </div>
        </div>
        
        <div class="test-section">
            <h3>Test Cases</h3>
            <ul>
                <li>Try entering: 1234567890</li>
                <li>Try entering: 555-123-4567</li>
                <li>Try entering: 555.123.4567</li>
                <li>Try entering: (555) 123-4567</li>
                <li>Try entering: 555 123 4567</li>
                <li>Try pasting: +1 555 123 4567</li>
            </ul>
        </div>
        
        <div class="test-section">
            <button onclick="testValidation()" class="btn btn-primary">Test Validation</button>
            <div id="validationResults" class="mt-3"></div>
        </div>
    </div>

    <script src="js/phone-formatter.js"></script>
    
    <script>
        function testValidation() {
            const inputs = document.querySelectorAll('input[type="tel"], input[name*="phone"], input[id*="phone"]');
            const results = document.getElementById('validationResults');
            let html = '<h4>Validation Results:</h4>';
            
            inputs.forEach(input => {
                const value = input.value;
                const cleanPhone = window.phoneFormatter.clean(value);
                const isValid = window.phoneFormatter.validate(value);
                const formatted = window.phoneFormatter.format(value);
                
                html += `
                    <div class="alert alert-${isValid ? 'success' : 'warning'}" role="alert">
                        <strong>Input:</strong> ${input.placeholder || input.name || 'unnamed'}<br>
                        <strong>Value:</strong> "${value}"<br>
                        <strong>Clean:</strong> "${cleanPhone}"<br>
                        <strong>Formatted:</strong> "${formatted}"<br>
                        <strong>Valid:</strong> ${isValid ? '✅ Yes' : '❌ No'}
                    </div>
                `;
            });
            
            results.innerHTML = html;
        }
        
        // Test auto-formatting on page load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Phone formatter loaded!');
            console.log('Available functions:', window.phoneFormatter);
        });
    </script>
</body>
</html>